<template>
    <template if:true={newsletters}>
        <div class="slds-size_1-of-1">
            <div style="display:flex;width:100%;height:42rem">
                <div class="slds-split-view_container slds-is-open">
                   <article aria-hidden="false" id="split-view-id"
                        class="slds-split-view slds-grid slds-grid_vertical slds-grow">
                        <header class="slds-split-view__header">
                            <div class="slds-grid slds-grid_vertical-align-center slds-m-bottom_xx-small">
                                <div class="slds-has-flexi-truncate">
                                    <div class="slds-media slds-media_center">
                                        <div class="slds-media__figure">
                                            <div class="slds-icon_container slds-icon-standard-document">
                                                <svg class="slds-icon" aria-hidden="true">
                                                    <use
                                                        xlink:href="/icons/standard-sprite/svg/symbols.svg#document">
                                                    </use>
                                                </svg>
                                                <span class="slds-assistive-text">Newsletters</span>
                                            </div>
                                        </div>
                                        <div class="slds-media__body">
                                            <h1
                                                class="slds-text-heading_small slds-text-color_default slds-p-right_x-small">
                                                <button
                                                    class="slds-button slds-button_reset slds-type-focus slds-truncate"
                                                    aria-haspopup="true" title="">
                                                    <span
                                                        class="slds-grid slds-has-flexi-truncate slds-grid_vertical-align-center">
                                                        <span class="slds-truncate" title="Newsletters">Newsletters</span>
                                                    </span>
                                                </button>
                                            </h1>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="slds-grid slds-grid_vertical-align-center">
                                <p class="slds-text-body_small slds-text-color_weak">{numNewsletters} items â€¢ Updated <lightning-formatted-date-time value={retrieved} year="numeric" month="numeric" day="numeric" hour="2-digit"
                                    minute="2-digit" hour12="true"></lightning-formatted-date-time></p>
                                <div class="slds-no-flex slds-grid slds-col_bump-left">
                                    <div class="slds-button-group">
                                        <button onclick={retrieveNewsletters}
                                            class="slds-button slds-button_icon slds-button_icon slds-button_icon-container"
                                            title="Refresh List">
                                            <svg class="slds-button__icon" aria-hidden="true">
                                                <use xlink:href="/icons/utility-sprite/svg/symbols.svg#refresh">
                                                </use>
                                            </svg>
                                            <span class="slds-assistive-text">Refresh List</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </header>
                        <div class="slds-grid slds-grid_vertical">
                            <div class="slds-split-view__list-header slds-grid">
                                <span class="slds-assistive-text">Sorted by:</span>
                                <span>Date
                                    <svg class="slds-icon slds-icon_xx-small slds-icon-text-default slds-align-top"
                                        aria-hidden="true">
                                        <use xlink:href="/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                                    </svg>
                                </span>
                                <span class="slds-assistive-text">- Descending</span>
                            </div>
                            <ul aria-multiselectable="true" class="slds-scrollable_y" role="listbox"
                                aria-label="Select an item to open it in a new workspace tab.">
                                <template for:each={newsletters} for:item="newsletter">
                                <li key={newsletter._id} class="slds-split-view__list-item" role="presentation" onclick={handleNewsletterClick} data-item={newsletter._id} >
                                    <a href="javascript:void(0);" aria-selected="false" role="option" data-item={newsletter._id}
                                        class="item slds-split-view__list-item-action slds-grow slds-has-flexi-truncate"
                                        tabindex="0"> 
                                        <div class="slds-grid slds-wrap">
                                            <span class="slds-truncate slds-text-body_regular slds-text-color_default"
                                                title={newsletter.title}>{newsletter.title}</span>
                                        </div>
                                        <div class="slds-grid slds-wrap">
                                            <span class="slds-truncate" title={newsletter.year}>Volume {newsletter.year}, Issue {newsletter.issue}</span>
                                        </div>
                                    </a>
                                </li>
                                </template>
                            </ul>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </template>
</template>