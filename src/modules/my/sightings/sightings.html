<template>
    <template if:true={sightings}>
        <div class="slds-size_1-of-1">
            <article
                aria-hidden="false"
                id="split-view-id"
                class="slds-split-view slds-grid slds-grid_vertical slds-grow"
            >
                <header class="slds-split-view__header">
                    <div
                        class="
                            slds-grid slds-grid_vertical-align-center
                            slds-m-bottom_xx-small
                        "
                    >
                        <div class="slds-has-flexi-truncate">
                            <div class="slds-media slds-media_center">
                                <div class="slds-media__figure">
                                    <div
                                        class="
                                            slds-icon_container
                                            slds-icon-standard-forecasts
                                        "
                                    >
                                        <svg
                                            class="slds-icon"
                                            aria-hidden="true"
                                        >
                                            <use
                                                xlink:href="/icons/standard-sprite/svg/symbols.svg#forecasts"
                                            ></use>
                                        </svg>
                                    </div>
                                </div>
                                <div class="slds-media__body">
                                    <h1
                                        class="
                                            slds-text-heading_small
                                            slds-text-color_default
                                            slds-p-right_x-small
                                        "
                                    >
                                        <button
                                            class="
                                                slds-button slds-button_reset
                                                slds-type-focus slds-truncate
                                            "
                                            aria-haspopup="true"
                                            title=""
                                        >
                                            <span
                                                class="
                                                    slds-grid
                                                    slds-has-flexi-truncate
                                                    slds-grid_vertical-align-center
                                                "
                                            >
                                                <span
                                                    class="slds-truncate"
                                                    title={header}
                                                >
                                                    {header}
                                                </span>
                                            </span>
                                        </button>
                                    </h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
                <div class="slds-grid slds-grid_vertical">
                    <div class="slds-split-view__list-header slds-grid">
                        <span class="slds-assistive-text">Sorted by:</span>
                        <span>
                            Date
                            <svg
                                class="
                                    slds-icon slds-icon_xx-small
                                    slds-icon-text-default slds-align-top
                                "
                                aria-hidden="true"
                            >
                                <use
                                    xlink:href="/icons/utility-sprite/svg/symbols.svg#arrowdown"
                                ></use>
                            </svg>
                        </span>
                        <span class="slds-assistive-text">- Descending</span>
                    </div>
                    <ul
                        aria-multiselectable="true"
                        class="slds-scrollable_y"
                        role="listbox"
                        aria-label="Select an item to open it in a new workspace tab."
                        style="height: 450px"
                    >
                        <template for:each={sightingList} for:item="sighting">
                            <li
                                key={sighting.id}
                                class="slds-split-view__list-item"
                                role="presentation"
                                onclick={handleSightingClick}
                                data-id={sighting.id}
                            >
                                <a
                                    href="javascript:void(0);"
                                    aria-selected="false"
                                    role="option"
                                    data-id={sighting.id}
                                    class="
                                        item
                                        slds-split-view__list-item-action
                                        slds-grow slds-has-flexi-truncate
                                    "
                                    tabindex="0"
                                >
                                    <div class="slds-grid slds-wrap">
                                        <span
                                            class="
                                                slds-truncate
                                                slds-text-body_regular
                                                slds-text-color_default
                                            "
                                            title={sighting.name}
                                        >
                                            {sighting.name}
                                        </span>
                                        <span
                                            class="
                                                slds-truncate
                                                slds-col_bump-left
                                            "
                                            title="Most Recent Observation"
                                        >
                                            <lightning-formatted-date-time
                                                value={sighting.mostRecent}
                                            ></lightning-formatted-date-time>
                                        </span>
                                    </div>
                                    <div class="slds-grid slds-wrap">
                                        <span
                                            class="slds-truncate"
                                            title={sighting.locations}
                                        >
                                            {sighting.locations}
                                        </span>
                                    </div>
                                </a>
                            </li>
                        </template>
                    </ul>
                </div>
            </article>
        </div>
    </template>
</template>
